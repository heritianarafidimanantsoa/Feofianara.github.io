<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, user-scalable=no"
        />
        <title>Feon'i Fianarantsoa</title>
        <link rel="icon" href="./img/feo.png" />
        <link rel="stylesheet" href="/assets/css/style.css" />
        <link rel="stylesheet" href="/assets/css/description.css" />
        <link rel="stylesheet" href="/assets/css/descriptionStyle.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
        <script src="./gsap/gsap.min.js"></script>
    </head>
    <body>
        <!-- Structure de la modale -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>

                <!-- Insérez ici vos listes de lieux -->
                <div class="list-container">
                    <h2>Liste des lieux</h2>
                    <!-- Correction du titre (singulier) -->
                    <ul id="jsonList"></ul>
                </div>
            </div>
        </div>

        <div id="myModal2" class="modal">
            <div class="modal-content">
                <span class="close2">&times;</span>

                <div class="list-container2">
                    <h2 style="text-align: center">Liste des personnes</h2>
                    <ul
                        id="jsonList2"
                        style="display: flex; flex-direction: column-reverse"
                    ></ul>
                </div>
            </div>
        </div>

        <!-- Tous les lieux , personnes-->
        <div class="bt_list" id="buttons-container">
            <div class="bt_m_">
                <button id="submit-btn" class="button_lieux">
                    <span class="icon_container">
                        <img
                            src="./img/recherche-de-carte-blanc.png"
                            class="icon_white"
                            alt="Icon blanc"
                        />
                    </span>
                    <span class="icon_container">
                        <img
                            src="./img/recherche-de-carte-noir.png"
                            class="icon_black"
                            alt="Icon noir"
                        />
                    </span>
                    Tous les lieux
                </button>
            </div>

            <div class="bt_m_">
                <button id="submit-btn2" class="button_lieux">
                    <span class="icon_container">
                        <img
                            src="./img/recherche-de-carte-blanc.png"
                            class="icon_white"
                            alt="Icon blanc"
                        />
                    </span>
                    <span class="icon_container">
                        <img
                            src="./img/recherche-de-carte-noir.png"
                            class="icon_black"
                            alt="Icon noir"
                        />
                    </span>
                    Toutes les personnes
                </button>
            </div>
        </div>

        <div class="navbar" id="navbar">
            <div class="navbar-logo">
                <img class="logofeo" src="./img/feo.png" href="index.html" />
            </div>
            <div class="navbar-icons">
                <img id="soundIcon" src="./img/music.png" alt="Musique" />
                <img src="./img/map.png" alt="Maps" id="buttonMap" />
            </div>
        </div>

        <!-- chargement du site barre de progression -->
        <section class="progress-bar-container">
            <label for="progress-bar">Loading</label>
            <progress id="progress-bar" value="0" max="100"></progress>
        </section>

        <!-- première présentation du site -->
        <section class="header">
            <h1>Feon'i Fianarantsoa</h1>
            <button class="btn btn1" id="explorer_bt">Explorer</button>
            <p class="readthedocs">
                Feon'i Fianarantsoa est un site interactif qui vous permet de
                découvrir la ville à travers les témoignages et photos de ses
                habitants. Explorez des lieux emblématiques sur une carte 3D,
                <strong
                    >chaque "lanterne" représentant un site que vous pouvez
                    visiter</strong
                >
                , avec des images à 360° et des récits locaux. Cliquez sur
                <strong>Explorer</strong> pour commencer votre aventure !
                <br />
                <br />
                Cette expérience s'apprécie idéalement sur un ordinateur
                <span id="icon_computer"><i class="fas fa-desktop"></i></span>
                et avec un casque
                <span id="icon_headphones"
                    ><i class="fas fa-headphones-alt"></i
                ></span>
            </p>
        </section>

        <section id="helpSection">
            <!-- Bouton d'aide (souris) -->
            <div class="c-create-help-button">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    class="c-create-help-button__desktop"
                >
                    <g stroke="currentColor" stroke-miterlimit="10" fill="none">
                        <rect
                            x="6"
                            y="2.99"
                            width="12"
                            height="18"
                            rx="6"
                            ry="6"
                        ></rect>
                        <path stroke-linecap="round" d="M12 5.99v4"></path>
                    </g>
                </svg>
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    class="c-icon-button__icon"
                >
                    <circle
                        cx="12"
                        cy="11.99"
                        r="9"
                        stroke="#fff"
                        stroke-linecap="round"
                        stroke-miterlimit="10"
                        fill="none"
                    ></circle>
                    <path
                        d="M15.36 8.9c-.2-.01-.39.02-.57.1-.16-.47-.59-.82-1.1-.85-.23-.01-.47.04-.67.15-.21-.36-.57-.6-1-.63-.17-.01-.34.02-.49.07V6.52c0-.69-.52-1.25-1.17-1.28-.35-.02-.67.1-.92.34-.25.23-.39.56-.39.9v4.6l-.36-.31c-.58-.47-1.11-.57-1.58-.29-.29.17-.49.45-.56.78-.08.35-.01.72.18 1.01l2.82 4.24c.07.1.11.22.11.35v.33c0 .57.46 1.03 1.03 1.03h3.74c.57 0 1.03-.46 1.03-1.03v-.76c0-.11.03-.21.08-.3l.69-1.26c.19-.35.29-.75.29-1.15v-3.54c0-.69-.51-1.25-1.17-1.28zm.36 4.98c0 .16-.04.32-.12.45l-.82 1.5c-.08.15-.13.32-.13.49v1.09h-4.19v-.87a.34.34 0 00-.07-.22L7.4 11.83c-.07-.11-.23-.37.11-.64.56-.52 1.56.97 1.56.97.17.16.17.31.4.31s.37-.4.37-.62V6.49c0-.12.05-.23.13-.31.09-.08.2-.12.32-.12.22.01.4.22.4.48v4.27c0 .22.18.4.4.4s.4-.18.4-.4V8.92c0-.12.05-.23.13-.31.08-.08.2-.12.32-.12.22.01.4.22.4.47v1.84c0 .22.18.4.4.4s.4-.18.4-.4V9.38c0-.12.05-.23.13-.31.09-.08.2-.12.32-.12.22.01.4.22.4.48v1.91c0 .22.18.4.4.4s.4-.18.4-.4v-1.22c0-.12.05-.23.13-.31.09-.08.2-.12.32-.12.22.01.4.22.4.48v3.7z"
                    ></path>
                </svg>
            </div>

            <div class="instructions-popup hidden">
                <div class="instruction-item">
                    <svg
                        class="icon desktop-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <g id="explore-desktop-01_svg__Ebene_1-2">
                            <path
                                d="M12 21.49c-3.58 0-6.5-2.92-6.5-6.5v-6c0-3.58 2.92-6.5 6.5-6.5s6.5 2.92 6.5 6.5v6c0 3.58-2.92 6.5-6.5 6.5zm0-18a5.51 5.51 0 00-5.5 5.5v6c0 3.03 2.47 5.5 5.5 5.5s5.5-2.47 5.5-5.5v-6c0-3.03-2.47-5.5-5.5-5.5z"
                                class="explore-desktop-01_svg__cls-2"
                            ></path>
                            <path
                                d="M12 10.51H8s-.39-2.44.63-3.95C9.75 4.9 12 4.52 12 4.52v5.99z"
                                class="explore-desktop-01_svg__cls-2"
                            ></path>
                        </g>
                    </svg>
                    <svg
                        class="icon mobile-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <path
                            d="M10 8.91c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
                        ></path>
                        <path
                            d="M10.61 20.58c-.39 0-.72-.29-.78-.68-.04-.28-.1-.58-.17-.73-.14-.29-.86-1.4-1.02-1.68-.55-.93-2.48-3.4-2.55-4.17-.04-.38.21-1.16 1.14-.93.33.08.81.6 1.04 1.07.42.66.97.83.98.64l-.08-6.23c0-1.13.61-1.49 1.05-1.5.28 0 1.01.11 1.01 1.46v4.63l.17-2.12c-.02-.49.38-.89.86-.87h.35c.44.02.8.38.81.82l.07 2.19v-1.47a.82.82 0 01.81-.84h.2c.45-.01.83.34.83.79l.02 2.39.05-1.06a.82.82 0 01.82-.86h.02c.46 0 .83.38.83.84 0 .92 0 2.41-.01 3.45 0 .65-.7 1.84-1.1 2.6-.12.22-.17.46-.18.7v.83c0 .39-.32.71-.71.71h-4.48z"
                            fill="none"
                        ></path>
                        <path
                            d="M15.09 21.08h-4.48c-.64 0-1.18-.46-1.27-1.1-.07-.45-.12-.57-.13-.58-.09-.17-.39-.67-.65-1.07-.16-.25-.29-.47-.36-.58-.17-.28-.47-.72-.81-1.21-1.05-1.52-1.75-2.56-1.81-3.16-.04-.37.1-.89.47-1.22.23-.2.64-.41 1.29-.25.53.13 1.1.79 1.37 1.34 0 0 .01.02.02.02l-.07-5.39c0-1.37.77-1.99 1.54-2 .22 0 .64.04.99.39.35.34.52.87.52 1.58v1.24c.17-.07.35-.1.54-.1h.36c.53.02.98.34 1.18.8.15-.06.32-.1.49-.1h.2c.72-.04 1.33.54 1.36 1.27v.06c.13-.04.3-.06.39-.06.77.01 1.35.6 1.35 1.34v3.45c-.01.7-.57 1.72-1.01 2.54l-.16.3a.94.94 0 00-.12.47v.83c0 .67-.54 1.21-1.21 1.21zm-8.17-8.23c-.08 0-.15.02-.2.06-.1.08-.14.27-.13.37.04.39 1.07 1.89 1.63 2.69.36.51.68.97.85 1.28.06.1.19.31.34.56.27.44.6.97.69 1.16.08.17.15.44.22.87.02.15.14.25.29.25h4.48c.12 0 .21-.09.21-.21v-.83c0-.33.08-.65.24-.94l.16-.3c.33-.6.88-1.61.88-2.06V12.3a.323.323 0 00-.33-.34c-.15-.01-.21.06-.25.1-.04.04-.09.12-.09.24l-.05 1.1c-.01.27-.23.48-.5.48a.5.5 0 01-.49-.5l-.02-2.39c0-.16-.16-.3-.34-.3h-.21c-.19 0-.33.16-.33.34v1.47c0 .27-.21.5-.48.5a.5.5 0 01-.5-.49l-.07-2.19c0-.18-.15-.32-.33-.33h-.36c-.13 0-.18.02-.25.09-.07.07-.1.16-.1.25l-.16 2.17c-.02.27-.26.49-.52.46-.27 0-.48-.23-.48-.5V7.84c-.01-.41-.09-.72-.24-.86a.329.329 0 00-.27-.1c-.27 0-.56.27-.56 1l.08 6.23c0 .23-.2.5-.42.56-.44.13-1.07-.27-1.48-.92-.22-.46-.6-.81-.74-.85a.747.747 0 00-.2-.03z"
                        ></path>
                    </svg>
                    <p class="desktop-text">
                        <b>Maintenez le clic gauche et faites glisser</b> pour
                        déplacer le décor.
                    </p>
                    <p class="mobile-text">
                        <b>Faites glisser avec un doigt</b> pour déplacer le
                        décor.
                    </p>
                </div>

                <div class="instruction-item">
                    <svg
                        class="icon desktop-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <g id="create-desktop-02_svg__Ebene_1-2">
                            <path
                                d="M12 21.49c-3.58 0-6.5-2.92-6.5-6.5v-6c0-3.58 2.92-6.5 6.5-6.5s6.5 2.92 6.5 6.5v6c0 3.58-2.92 6.5-6.5 6.5zm0-18a5.51 5.51 0 00-5.5 5.5v6c0 3.03 2.47 5.5 5.5 5.5s5.5-2.47 5.5-5.5v-6c0-3.03-2.47-5.5-5.5-5.5z"
                                class="create-desktop-02_svg__cls-2"
                            ></path>
                            <path
                                d="M12 10.51h4s.39-2.44-.63-3.95C14.25 4.9 12 4.52 12 4.52v5.99z"
                                class="create-desktop-02_svg__cls-2"
                            ></path>
                        </g>
                    </svg>
                    <svg
                        class="icon mobile-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <path
                            d="M11 10.83c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-7c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3z"
                        ></path>
                        <path
                            d="M10.61 20.58c-.39 0-.72-.29-.78-.68-.04-.28-.1-.58-.17-.73-.14-.29-.86-1.4-1.02-1.68-.55-.93-2.48-3.4-2.55-4.17-.04-.38.21-1.16 1.14-.93.33.08.81.6 1.04 1.07.42.66.97.83.98.64l-.08-6.23c0-1.13.61-1.49 1.05-1.5.28 0 1.01.11 1.01 1.46V7.36c0-.69.18-1.69 1.08-1.69.59 0 1.05.62 1.05 1.58 0 .84.06 2.8.07 3.03l.07 2.19V11a.82.82 0 01.81-.84h.2c.45-.01.83.34.85.79l.02 2.39.05-1.06a.82.82 0 01.82-.86h.02c.46 0 .83.38.83.84 0 .92 0 2.41-.01 3.45 0 .65-.7 1.84-1.1 2.6-.12.22-.17.46-.18.7v.83c0 .39-.32.71-.71.71h-4.48z"
                            fill="none"
                        ></path>
                        <path
                            d="M15.09 21.08h-4.48c-.64 0-1.18-.46-1.27-1.1-.07-.45-.12-.57-.13-.58-.09-.17-.39-.66-.65-1.07-.16-.25-.29-.47-.36-.58-.17-.28-.47-.72-.81-1.21-1.05-1.52-1.75-2.56-1.81-3.17-.04-.37.1-.89.47-1.22.23-.2.64-.41 1.29-.25.53.13 1.1.79 1.37 1.34 0 0 .01.02.02.02l-.07-5.39c0-1.37.77-1.99 1.54-2 .17 0 .47.02.76.2.26-.57.72-.89 1.34-.89.9 0 1.55.88 1.55 2.08 0 .6.03 1.77.05 2.48.12-.04.25-.06.39-.06h.2c.74.02 1.33.55 1.36 1.27v.06c.13-.04.3-.05.39-.06.77.01 1.35.6 1.35 1.34v3.45c-.01.7-.57 1.72-1.01 2.54l-.16.3a.94.94 0 00-.12.47v.83c0 .67-.54 1.21-1.21 1.21zm-8.17-8.23c-.08 0-.15.02-.2.06-.1.09-.14.27-.13.37.04.39 1.08 1.89 1.63 2.69.36.51.67.97.85 1.27.06.1.19.31.34.56.27.44.6.97.69 1.16.09.17.15.44.22.87.02.15.14.25.29.25h4.48c.12 0 .21-.09.21-.21v-.83c0-.33.08-.64.23-.94l.16-.3c.33-.6.88-1.61.88-2.06v-3.45a.323.323 0 00-.33-.34c-.15.03-.21.06-.25.1-.04.04-.09.12-.09.24l-.05 1.1c-.01.27-.23.48-.5.48a.5.5 0 01-.49-.5l-.02-2.39a.3.3 0 00-.34-.3h-.2c-.19 0-.33.16-.33.34v1.48c0 .27-.21.5-.48.5-.31.02-.5-.21-.51-.49l-.07-2.19c0-.24-.07-2.21-.07-3.05 0-.62-.24-1.08-.55-1.08-.5 0-.58.75-.58 1.19v5.09c0 .28-.22.5-.5.5s-.5-.22-.5-.5v-2.12c-.01-.19-.01-1.38-.01-2.29v-.22c0-.41-.08-.72-.22-.86a.32.32 0 00-.27-.1c-.27 0-.56.27-.56 1l.08 6.23c0 .23-.2.5-.42.56-.44.13-1.06-.27-1.48-.92-.22-.46-.6-.81-.74-.85a.747.747 0 00-.2-.03z"
                        ></path>
                    </svg>
                    <p class="desktop-text">
                        <b>Maintenez le clic droit et faites glisser</b> pour
                        faire pivoter le décor.
                    </p>
                    <p class="mobile-text">
                        <b>Faites glisser avec deux doigts</b>, pour faire
                        pivoter le décor.
                    </p>
                </div>

                <div class="instruction-item">
                    <svg
                        class="icon desktop-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <g id="explore-desktop-02_svg__Ebene_1-2">
                            <path
                                d="M12 21.49c-3.58 0-6.5-2.92-6.5-6.5v-6c0-3.58 2.92-6.5 6.5-6.5s6.5 2.92 6.5 6.5v6c0 3.58-2.92 6.5-6.5 6.5zm0-18a5.51 5.51 0 00-5.5 5.5v6c0 3.03 2.47 5.5 5.5 5.5s5.5-2.47 5.5-5.5v-6c0-3.03-2.47-5.5-5.5-5.5z"
                                class="explore-desktop-02_svg__cls-2"
                            ></path>
                            <path
                                d="M12 10.49c-.28 0-.5-.22-.5-.5v-4c0-.28.22-.5.5-.5s.5.22.5.5v4c0 .28-.22.5-.5.5z"
                                class="explore-desktop-02_svg__cls-2"
                            ></path>
                        </g>
                    </svg>
                    <svg
                        class="icon mobile-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <path
                            d="M9.14 10.5c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM7 17.5c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
                        ></path>
                        <path
                            d="M14.63 19.7l-1.69-.7c-.84-.35-1.61-.84-2.28-1.46L9 16.05c-1.21-1.21-.56-1.87-.56-1.87.27-.37.79-.43 1.14-.15l1.79 1.46c.19.15.45-.06.35-.27L9 9.36c-.37-.72-.13-1.46.26-1.6.33-.12.96-.35 1.61.92l2.01 3.77-.92-1.75a.802.802 0 01.38-1.1l.31-.14c.38-.17.83-.01 1.03.36l.95 1.86-.61-1.26a.796.796 0 01.36-1.06l.17-.09c.38-.19.85-.04 1.05.33l1.16 2.15-.55-1.01c-.22-.4-.05-.91.36-1.1.39-.18.86-.01 1.05.38l1.4 2.96c.31.66.47 1.37.47 2.1v2.31c0 .22-.06.43-.2.6-1.16 1.51-2.94 2.48-3.92 2.63-.43.06-.75-.91-.75-.91z"
                            fill="none"
                        ></path>
                        <path
                            d="M15.33 21.11c-.58 0-.93-.63-1.09-1.03l-1.49-.61c-.9-.37-1.72-.89-2.43-1.55l-1.66-1.49c-1.56-1.56-.62-2.55-.58-2.6.16-.23.47-.42.83-.46.36-.04.71.05.98.27l.87.71-2.22-4.78c-.26-.5-.3-1.09-.12-1.58.13-.35.37-.59.66-.7.34-.12 1.38-.5 2.23 1.16l.49.91c.1-.09.22-.17.34-.22l.3-.14c.46-.2.98-.12 1.35.18.1-.11.22-.2.36-.27l.17-.09c.63-.32 1.38-.08 1.72.54v.02c.1-.08.21-.15.32-.21.64-.3 1.41-.02 1.71.62l1.4 2.96c.34.72.52 1.51.52 2.31v2.31c0 .33-.11.65-.3.91-1.22 1.6-3.1 2.65-4.25 2.82h-.12zm-6.26-6.76h-.04c-.05 0-.13.03-.2.12-.13.16-.14.58.51 1.23l1.64 1.47c.63.58 1.35 1.04 2.14 1.37l1.69.7c.13.05.24.17.28.3.07.21.2.46.29.55.82-.16 2.44-1.01 3.52-2.42.06-.08.09-.18.09-.3v-2.31c0-.65-.15-1.3-.42-1.88l-1.4-2.96a.288.288 0 00-.39-.14c-.1.04-.14.13-.15.17-.02.05-.03.14.02.24l.54 1.01c.13.24.04.55-.2.68-.24.13-.54.04-.68-.2s-1.15-2.15-1.15-2.15a.309.309 0 00-.39-.13l-.17.09c-.15.07-.21.25-.13.4l.61 1.26c.12.25.02.54-.23.67-.24.12-.54.02-.67-.22l-.95-1.86a.284.284 0 00-.38-.13l-.31.14c-.1.04-.14.13-.16.17-.02.05-.04.14.02.24l.92 1.75c.13.24.04.55-.21.67-.24.13-.54.04-.68-.21L10.42 8.9c-.45-.88-.75-.78-1-.68-.08.05-.24.43 0 .9L12.15 15a.726.726 0 01-1.12.87l-1.79-1.46a.3.3 0 00-.18-.06zm2.18 1.07zm.42-.33z"
                        ></path>
                    </svg>
                    <p class="desktop-text">
                        <b>Faites défiler</b> pour zoomer.
                    </p>
                    <p class="mobile-text">
                        <b>Pincez</b>, pour zoomer avant/arrière.
                    </p>
                </div>

                <div class="instruction-item">
                    <svg
                        class="icon desktop-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <g id="explore-desktop-03_svg__Ebene_1-2">
                            <path
                                d="M12 21.49c-3.58 0-6.5-2.92-6.5-6.5v-6c0-3.58 2.92-6.5 6.5-6.5s6.5 2.92 6.5 6.5v6c0 3.58-2.92 6.5-6.5 6.5zm0-18a5.51 5.51 0 00-5.5 5.5v6c0 3.03 2.47 5.5 5.5 5.5s5.5-2.47 5.5-5.5v-6c0-3.03-2.47-5.5-5.5-5.5z"
                                class="explore-desktop-03_svg__cls-2"
                            ></path>
                            <circle
                                cx="9.82"
                                cy="7.99"
                                r="1"
                                class="explore-desktop-03_svg__cls-2"
                            ></circle>
                        </g>
                    </svg>
                    <svg
                        class="icon mobile-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <g id="explore-mobile-03_svg__Ebene_1-2">
                            <path
                                d="M10 8.91a2.5 2.5 0 010-5 2.5 2.5 0 010 5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"
                            ></path>
                            <path
                                d="M10 10.57c-2.29 0-4.16-1.87-4.16-4.16S7.71 2.25 10 2.25s4.16 1.86 4.16 4.16-1.86 4.16-4.16 4.16zm0-7.31c-1.74 0-3.16 1.42-3.16 3.16S8.26 9.58 10 9.58s3.16-1.42 3.16-3.16S11.74 3.26 10 3.26z"
                            ></path>
                            <path
                                d="M10.61 20.58c-.39 0-.72-.29-.78-.68-.04-.28-.1-.58-.17-.73-.14-.29-.86-1.4-1.02-1.68-.55-.93-2.48-3.4-2.55-4.17-.04-.38.21-1.16 1.14-.93.33.08.81.6 1.04 1.07.42.66.97.83.98.64l-.08-6.23c0-1.13.61-1.49 1.05-1.5.28 0 1.01.11 1.01 1.46v4.63l.17-2.12c-.02-.49.38-.89.86-.87h.35c.44.02.8.38.81.82l.07 2.19v-1.47a.82.82 0 01.81-.84h.2c.45-.01.83.34.85.79l.02 2.39.05-1.06a.82.82 0 01.82-.86h.02c.46 0 .83.38.83.84 0 .92 0 2.41-.01 3.45 0 .65-.7 1.84-1.1 2.6-.12.22-.17.46-.18.7v.83c0 .39-.32.71-.71.71h-4.48z"
                                fill="none"
                            ></path>
                            <path
                                d="M15.09 21.08h-4.48c-.64 0-1.18-.46-1.27-1.1-.07-.45-.12-.57-.13-.58-.09-.17-.39-.67-.65-1.07-.16-.25-.29-.47-.36-.58-.17-.28-.47-.72-.81-1.21-1.05-1.52-1.75-2.56-1.81-3.16-.04-.37.1-.89.47-1.22.23-.2.64-.41 1.29-.25.53.13 1.1.79 1.37 1.34 0 0 .01.02.02.02l-.07-5.39c0-1.37.77-1.99 1.54-2 .22 0 .64.04.99.39.35.34.52.87.52 1.58v1.24c.17-.07.35-.09.54-.1h.36c.53.02.98.34 1.18.8.15-.06.32-.1.49-.1h.2c.72-.04 1.33.54 1.36 1.27v.06c.13-.04.3-.04.39-.06.77.01 1.35.6 1.35 1.34v3.45c-.01.7-.57 1.72-1.01 2.54l-.16.3a.94.94 0 00-.12.47v.83c0 .67-.54 1.21-1.21 1.21zm-8.17-8.23c-.08 0-.15.02-.2.06-.1.08-.14.27-.13.37.04.39 1.07 1.89 1.63 2.69.36.51.68.97.85 1.28.06.1.19.31.34.56.27.44.6.97.69 1.16.08.17.15.44.22.87.02.15.14.25.29.25h4.48c.12 0 .21-.09.21-.21v-.83c0-.33.08-.65.24-.94l.16-.3c.33-.6.88-1.61.88-2.06V12.3a.323.323 0 00-.33-.34c-.15 0-.21.06-.25.1-.04.04-.09.12-.09.24l-.05 1.1c-.01.27-.23.48-.5.48a.5.5 0 01-.49-.5l-.02-2.39c0-.16-.12-.27-.34-.3h-.2c-.19 0-.33.16-.33.34v1.47c0 .27-.21.5-.48.5-.31 0-.5-.21-.51-.49l-.07-2.19c0-.18-.15-.32-.33-.33h-.36c-.13 0-.18.02-.25.09-.07.07-.1.16-.1.25l-.16 2.17c-.02.27-.26.45-.52.46-.27 0-.48-.23-.48-.5V7.84c-.01-.41-.09-.72-.24-.86-.09-.09-.2-.12-.27-.1-.27 0-.56.27-.56 1l.08 6.23c0 .23-.2.5-.42.56-.44.13-1.07-.27-1.48-.92-.22-.46-.6-.81-.74-.85a.747.747 0 00-.2-.03z"
                            ></path>
                        </g>
                    </svg>
                    <p class="desktop-text">
                        <b>Cliquez gauche</b> pour interagir avec les éléments.
                    </p>
                    <p class="mobile-text">
                        <b>Appuyez,</b> pour interagir avec les éléments.
                    </p>
                </div>

                <button class="close-instructions">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        aria-hidden="true"
                    >
                        <path
                            d="M20 20.75a.74.74 0 01-.53-.22l-16-16a.75.75 0 111.06-1.06l16 16a.75.75 0 010 1.06.74.74 0 01-.53.22z"
                        ></path>
                        <path
                            d="M4 20.75a.74.74 0 01-.53-.22.75.75 0 010-1.06l16-16a.75.75 0 111.06 1.06l-16 16a.74.74 0 01-.53.22z"
                        ></path>
                    </svg>
                </button>
            </div>
        </section>

        <!-- div stocke le nom du lieur lorqu'on survole lanterne -->
        <div id="titre_lieu"></div>
        <div id="list"></div>

        <!-- fon separateur du presentation du lieu et la carte -->
        <div id="cont" class="dark-mode"></div>
        <div id="container" class="dark-mode"></div>
        <div class="backgroundExplorer" id="backgroundExplorer"></div>

        <!-- Plus d'infos sur ce lieu dans le scéne 360-->
        <button id="show_description" class="show_description">
            <div class="show_icon">
                <img
                    src="./img/info_blanc.png"
                    class="show_icon_white"
                    alt="Icon blanche"
                />
            </div>
            <div class="show_icon">
                <img
                    src="./img/info_noir.png"
                    class="show_icon_black"
                    alt="Icon noire"
                />
            </div>
            <div class="info_titre">Plus d'infos sur ce lieu</div>
        </button>

        <!-- contenue du Plus d'infos sur ce lieu -->
        <div id="desc-main" class="desc-main">
            <!----------------------------MENU------------------------>
            <div class="menu">
                <div id="nom-lieu" class="menu_gauche">Marché du Zoma</div>
                <div class="menu_droite">
                    <div id="sound">
                        <img class="sound" src="img/music.png" alt="Son" />
                    </div>

                    <div id="quiter_description">
                        <img
                            class="croix"
                            src="img/quitter_rouge.png"
                            alt="Fermer"
                        />
                    </div>
                </div>
            </div>

            <script>
                // Sélection de l'élément d'image pour le son
                const soundIcon = document.querySelector("#sound img");

                // Écouteur de clic pour changer l'icône
                document
                    .getElementById("sound")
                    .addEventListener("click", () => {
                        // Vérifier l'état actuel de l'icône
                        if (soundIcon.src.includes("music.png")) {
                            // Changer l'icône en "mute"
                            soundIcon.src = "img/mute.png";
                        } else {
                            // Changer l'icône en "music"
                            soundIcon.src = "img/music.png";
                        }
                    });
            </script>

            <!----------------------------FILTRE------------------------>

            <div
                id="myScroll"
                style="
                    overflow-y: scroll;
                    width: 100%;
                    height: 100%;
                    position: relative;
                    background-color: #191919;
                "
            >
                <!----------------------------FILTRE------------------------>

                <div class="conteneur_haut">
                    <div id="filtre"></div>
                    <div class="conteneur_nom">
                        <h1 id="nom">Marché du Zoma</h1>
                    </div>
                    <img
                        id="image_principale"
                        class="img img_fixed"
                        src=""
                        alt="Image"
                    />
                    <div class="texte_filtre">
                        <p id="desc1"></p>
                    </div>
                </div>

                <script type="text/javascript">
                    const img = document.querySelector(".img");
                    deScrol = 0; //1300
                    var divScrollable = document.getElementById("myScroll");
                    divScrollable.addEventListener("scroll", function (e) {
                        const apparitionQuestion =
                            document.querySelector(".img");
                        var scrollTop = divScrollable.scrollTop;

                        if (scrollTop > 900 - deScrol) {
                            img.classList.remove("img_fixed");
                            img.classList.add("img_absolute");
                            img.style.opacity = 0;
                        } else {
                            img.classList.add("img_fixed");
                            img.classList.remove("img_absolute");
                            img.style.opacity = 1;
                        }
                    });
                </script>

                <!----------------------------CONTENEUR PAGE------------------------>

                <div class="conteneur_bas">
                    <!----------------------------QUESTION REPONSES------------------------>
                    <div class="center question">
                        <p
                            id="question"
                            class="apparitionQuestion questionInvisible"
                        >
                            Quelle est la plus belle chose de Fianarantsoa selon
                            vous ?
                        </p>
                    </div>

                    <div class="ligne1_bis">
                        <div class="audio1 invisible4" id="playButton1">
                            <img
                                class="play1"
                                src="img/play.png"
                                alt="play music"
                            />
                        </div>
                        <div class="texte1">
                            <h2 id="nom1" class="apparition2 invisible2">
                                Mahera
                            </h2>
                            <p id="comment1" class="apparition3 invisible3">
                                &laquo; C'est un des plus beaux endroits de la
                                ville ! &raquo;
                            </p>
                        </div>
                    </div>

                    <div class="ligne2_bis">
                        <div class="texte2">
                            <h2 id="nom2" class="apparition5 invisible5">
                                Tokiarivelo
                            </h2>
                            <p id="comment2" class="apparition7 invisible7">
                                &laquo; J'aime cet endroit car il représente
                                bien Fianarantsoa &raquo;
                            </p>
                        </div>
                        <div class="audio2 invisible6" id="playButton2">
                            <img
                                class="play2"
                                src="img/play.png"
                                alt="play music"
                            />
                        </div>
                    </div>

                    <script type="text/javascript">
                        divScrollable = document.getElementById("myScroll");

                        /***********************APPARITION QUESTION*************************/
                        divScrollable.addEventListener("scroll", function (e) {
                            const apparitionQuestion = document.querySelector(
                                ".apparitionQuestion"
                            );
                            var scrollTop = divScrollable.scrollTop;

                            if (scrollTop > 550 - deScrol) {
                                apparitionQuestion.classList.remove(
                                    "questionInvisible"
                                );
                                apparitionQuestion.classList.add(
                                    "questionVisible"
                                );
                            } else {
                                apparitionQuestion.classList.add(
                                    "questionInvisible"
                                );
                                apparitionQuestion.classList.remove(
                                    "questionVisible"
                                );
                            }
                        });

                        /***********************APPARITION PERSONNE 1*************************/
                        const apparition2 =
                            document.querySelector(".apparition2");
                        const apparitionAudio1 =
                            document.querySelector(".audio1");

                        divScrollable.addEventListener("scroll", function (e) {
                            var scrollTop = divScrollable.scrollTop;

                            if (scrollTop > 750 - deScrol) {
                                apparition2.classList.remove("invisible2");
                                apparition2.classList.add("visible2");
                                apparitionAudio1.classList.remove("invisible4");
                                apparitionAudio1.classList.add("visible4");
                            } else {
                                apparition2.classList.add("invisible2");
                                apparition2.classList.remove("visible2");
                                apparitionAudio1.classList.add("invisible4");
                                apparitionAudio1.classList.remove("visible4");
                            }
                        });

                        const apparition3 =
                            document.querySelector(".apparition3");
                        divScrollable.addEventListener("scroll", function (e) {
                            var scrollTop = divScrollable.scrollTop;
                            if (scrollTop > 880 - deScrol) {
                                apparition3.classList.remove("invisible3");
                                apparition3.classList.add("visible3");
                            } else {
                                apparition3.classList.add("invisible3");
                                apparition3.classList.remove("visible3");
                            }
                        });

                        /***********************APPARITION PERSONNE 2*************************/
                        const apparition5 =
                            document.querySelector(".apparition5");
                        const apparitionAudio2 =
                            document.querySelector(".audio2");
                        divScrollable.addEventListener("scroll", function (e) {
                            var scrollTop = divScrollable.scrollTop;
                            if (scrollTop > 980 - deScrol) {
                                apparition5.classList.remove("invisible5");
                                apparition5.classList.add("visible5");
                                apparitionAudio2.classList.remove("invisible6");
                                apparitionAudio2.classList.add("visible6");
                            } else {
                                apparition5.classList.add("invisible5");
                                apparition5.classList.remove("visible5");
                                apparitionAudio2.classList.add("invisible6");
                                apparitionAudio2.classList.remove("visible6");
                            }
                        });

                        const apparition7 =
                            document.querySelector(".apparition7");
                        divScrollable.addEventListener("scroll", function (e) {
                            var scrollTop = divScrollable.scrollTop;
                            if (scrollTop > 1070 - deScrol) {
                                apparition7.classList.remove("invisible7");
                                apparition7.classList.add("visible7");
                            } else {
                                apparition7.classList.add("invisible7");
                                apparition7.classList.remove("visible7");
                            }
                        });

                        /***********************FONCTION AUDIO*************************/
                        const playButton1 =
                            document.getElementById("playButton1");
                        const playButton2 =
                            document.getElementById("playButton2");
                        const soundImage1 = document.querySelector(".play1");
                        const soundImage2 = document.querySelector(".play2");

                        sound = new Audio("./music/audio/feo1.mp3");
                        // audioElement1 = new Audio("./music/audio/feo1.mp3");
                        // audioElement2 = new Audio("./music/audio/feo2.mp3");
                        audioElement1 = document.getElementById("feo1");
                        audioElement2 = document.getElementById("feo2");

                        isPlaying = false;
                        backGroundIsPlaying = false;

                        playButton1.addEventListener("click", function () {
                            if (!isPlaying) {
                                audioElement1.play();
                                isPlaying = true;
                                soundImage1.src = "img/pause.png";
                                audioElement2.pause();

                                soundImage2.src = "img/play.png";

                                if (backGroundIsPlaying == true) {
                                    backGroundIsPlaying = false;
                                    sound.pause();
                                }
                            } else {
                                audioElement1.pause();
                                isPlaying = false;
                                soundImage1.src = "img/play.png";

                                if (backGroundIsPlaying == false) {
                                    backGroundIsPlaying = true;
                                    sound.play();
                                }
                            }
                        });

                        playButton2.addEventListener("click", function () {
                            if (!isPlaying) {
                                audioElement2.play();
                                isPlaying = true;
                                soundImage2.src = "img/pause.png";
                                audioElement1.pause();
                                soundImage1.src = "img/play.png";

                                if (backGroundIsPlaying == true) {
                                    backGroundIsPlaying = false;
                                    sound.pause();
                                }
                            } else {
                                audioElement2.pause();
                                isPlaying = false;
                                soundImage2.src = "img/play.png";

                                if (backGroundIsPlaying == false) {
                                    backGroundIsPlaying = true;
                                    sound.play();
                                }
                            }
                        });
                    </script>

                    <!----------------------------CAROUSEL------------------------>

                    <div class="carousel">
                        <button id="prev">&#10096;</button>
                        <button id="next">&#10097;</button>
                        <ul id="carousel-list"></ul>
                    </div>

                    <!----------------------------CONTENU------------------------>

                    <div class="center">
                        <p id="description" class="apparition invisible"></p>
                    </div>

                    <script type="text/javascript">
                        const apparition =
                            document.querySelector(".apparition");
                        divScrollable = document.getElementById("myScroll");
                        divScrollable.addEventListener("scroll", function (e) {
                            var scrollTop = divScrollable.scrollTop;
                            if (scrollTop > 1200 - deScrol) {
                                apparition.classList.remove("invisible");
                                apparition.classList.add("visible");
                            } else {
                                apparition.classList.add("invisible");
                                apparition.classList.remove("visible");
                            }
                        });
                    </script>
                </div>
            </div>
        </div>
        <!-- FIN Contenue du Plus d'infos sur ce lieu -->

        <input type="hidden" id="testStart" value="true" />
        <input type="hidden" id="isDark" value="true" />
        <input type="hidden" id="ls360" value="" />

        <script type="importmap">
            {
                "imports": {
                    "three": "https://unpkg.com/three/build/three.module.js",
                    "three/": "https://unpkg.com/three/",
                    "troika-three-text": "https://unpkg.com/troika-three-text@latest/dist/troika-three-text.esm.js",
                    "troika-three-utils": "https://unpkg.com/troika-three-utils@latest/dist/troika-three-utils.esm.js",
                    "troika-worker-utils": "https://unpkg.com/troika-worker-utils@latest/dist/troika-worker-utils.esm.js",
                    "webgl-sdf-generator": "https://unpkg.com/webgl-sdf-generator@latest/dist/webgl-sdf-generator.mjs",
                    "bidi-js": "https://unpkg.com/bidi-js@latest/dist/bidi.mjs",
                    "gsap": "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js",
                    "geolib": "https://cdn.jsdelivr.net/npm/geolib@3.3.4/lib/index.min.js"
                }
            }
        </script>

        <script type="module" src="main.js" async></script>

        <audio loop id="audioPlayer2" src="/night.mp3"></audio>

        <audio loop id="backgroundSound" src="/night.mp3"></audio>
        <audio loop id="feo1" src="/night.mp3"></audio>
        <audio loop id="feo2" src="/night.mp3"></audio>

        <script>
            document.getElementById("backgroundSound").pause();
            document.getElementById("feo1").pause();
            document.getElementById("feo2").pause();

            dark = false;
            darkness = 2;
            document.addEventListener("DOMContentLoaded", function () {
                var isMuted = false;

                var audioPlayer2 = document.getElementById("audioPlayer2");
                var soundIcon = document.getElementById("soundIcon");
                var explorer_bt = document.getElementById("explorer_bt");
                var show_description =
                    document.getElementById("show_description");
                var quiter_description =
                    document.getElementById("quiter_description");

                function toggleMute() {
                    isMuted = !isMuted;

                    if (isMuted) {
                        audioPlayer2.pause();
                        soundIcon.src = "./img/mute.png";
                    } else {
                        audioPlayer2.play().catch((error) => {
                            console.error("Failed to play audio: ", error);
                        });
                        soundIcon.src = "./img/music.png";
                    }
                }

                function playSound() {
                    document.getElementById("testStart").value = false;
                    audioPlayer2.play();
                    audioPlayer2.volume = 1;
                }

                function changeCameraView() {
                    console.log("Change Camera View");
                }

                var mapIcon = document.querySelector(
                    ".navbar-icons img:nth-child(2)"
                );

                mapIcon.addEventListener("click", changeCameraView);

                window.onscroll = function () {
                    var navbar = document.getElementById("navbar");
                    if (
                        document.body.scrollTop > 20 ||
                        document.documentElement.scrollTop > 20
                    ) {
                        navbar.style.backgroundColor =
                            "rgba(255, 255, 255, 0.8)";
                    } else {
                        navbar.style.backgroundColor = "transparent";
                    }
                };

                function showDescription() {
                    var main = document.getElementById("desc-main");
                    main.className = "desc-main is_displayed";
                }

                function quitDescription() {
                    var main = document.getElementById("desc-main");
                    main.className = "desc-main";
                }

                soundIcon.addEventListener("click", toggleMute);
                explorer_bt.addEventListener("click", playSound);
                show_description.addEventListener("click", showDescription);
                quiter_description.addEventListener("click", quitDescription);
            });
        </script>
    </body>
</html>
